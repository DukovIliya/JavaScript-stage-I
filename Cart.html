<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id=cart-goods></div>
    <script>
        //3. Сделать генерацию корзины динамической: верстка корзины не должна находиться в HTML-структуре. Там должен быть только div, в который будет вставляться корзина, сгенерированная на базе JS:
        //3.1. Пустая корзина должна выводить строку «Корзина пуста»;
        //3.2. Наполненная должна выводить «В корзине: n товаров на сумму m рублей».
        var cart = {
            goods: [],
            getSumCart() {//получить сумму товаров в корзине
                let costall = 0;
                this.goods.forEach(function (curgoogs) {
                    let cost = curgoogs.quant * curgoogs.price;
                    cost = Math.round(cost * 100) / 100;
                    if (!isNaN(cost)) costall += cost;
                })
                return costall;
            },

            addGoodsToCart(name, quant, price) { //добавить товар в корзину
                return (this.goods.push({
                    name: name,
                    quant: quant,
                    price: price
                }))
            },

            removeGoodsOutCart(index) { //удалить один элемент из корзины по индексу
                return (this.goods.splice(index, 1));
            },
            clearCart() { //Очистка корзины
                return this.goods.length = 0;

            },

            weightGoodsInCart() {//получить вес всех товаров в корзине
                let weight = 0;
                for (let i of this.goods) {
                    weight += i.quant;
                }
                return weight;
            },
            getCountGoogs() {
                return this.goods.length;
            },
            renderCart(containerId) {
                if (this.getCountGoogs() > 0) {
                    html_ = '<h3>В корзине находится ' + this.getCountGoogs() + ' товаров на сумму ' + this.getSumCart() + ' руб</h3>';
                }
                else {
                    html_ = '<h3>В корзине нет товаров :(';
                }
                const parentCart = document.getElementById(containerId);
                parentCart.insertAdjacentHTML('beforeend', html_);
            }


        }
        //добавить товары в корзину
        cart.addGoodsToCart('Киви', 1.01, 160.00);
        cart.addGoodsToCart('Авокадо', 0.41, 310);
        cart.addGoodsToCart('Рамбутан', 1.340, 670.00);
        cart.addGoodsToCart('Питахайя', 1.01, 899.99);
        cart.addGoodsToCart('Личи', 2.015, 310.00);
        cart.addGoodsToCart('Карамбола', 0.833, 400.00);
        cart.addGoodsToCart('Гуава', 1.23, 930.00);

        cart.renderCart('cart-goods');

        //Удалить один товар из корзины
        cart.removeGoodsOutCart(2);

        cart.renderCart('cart-goods');

        //Очистить корзину
        cart.clearCart();

        cart.renderCart('cart-goods');

    </script>

</body>

</html>